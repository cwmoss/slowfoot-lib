import{Q as S,S as U,i as x,s as L,e as p,t as v,c as d,a as g,g as w,d as _,b as y,f as b,F as m,h as k,j as R,l as q,G as j,I as A,N as B}from"../chunks/vendor-4f9cac4b.js";import{b as D,h as C}from"../chunks/config-d3d39522.js";import"../chunks/paths-28a87002.js";const F=()=>{const s=S("__svelte__");return{page:{subscribe:s.page.subscribe},navigating:{subscribe:s.navigating.subscribe},get preloading(){return console.error("stores.preloading is deprecated; use stores.navigating instead"),{subscribe:s.navigating.subscribe}},session:s.session}},G={subscribe(s){return F().page.subscribe(s)}};function E(s,t,l){const o=s.slice();return o[2]=t[l],o}function I(s){let t,l,o=s[2]._id+"",c,i;return{c(){t=p("li"),l=p("a"),c=v(o),this.h()},l(a){t=d(a,"LI",{});var u=g(t);l=d(u,"A",{href:!0});var r=g(l);c=w(r,o),r.forEach(_),u.forEach(_),this.h()},h(){y(l,"href",i="id/"+encodeURIComponent(s[2]._id))},m(a,u){b(a,t,u),m(t,l),m(l,c)},p(a,u){u&1&&o!==(o=a[2]._id+"")&&k(c,o),u&1&&i!==(i="id/"+encodeURIComponent(a[2]._id))&&y(l,"href",i)},d(a){a&&_(t)}}}function H(s){let t,l,o=s[1].params.type+"",c,i,a,u=s[0],r=[];for(let e=0;e<u.length;e+=1)r[e]=I(E(s,u,e));return{c(){t=p("h1"),l=v("_type: "),c=v(o),i=R(),a=p("ol");for(let e=0;e<r.length;e+=1)r[e].c()},l(e){t=d(e,"H1",{});var f=g(t);l=w(f,"_type: "),c=w(f,o),f.forEach(_),i=q(e),a=d(e,"OL",{});var n=g(a);for(let h=0;h<r.length;h+=1)r[h].l(n);n.forEach(_)},m(e,f){b(e,t,f),m(t,l),m(t,c),b(e,i,f),b(e,a,f);for(let n=0;n<r.length;n+=1)r[n].m(a,null)},p(e,[f]){if(f&2&&o!==(o=e[1].params.type+"")&&k(c,o),f&1){u=e[0];let n;for(n=0;n<u.length;n+=1){const h=E(e,u,n);r[n]?r[n].p(h,f):(r[n]=I(h),r[n].c(),r[n].m(a,null))}for(;n<r.length;n+=1)r[n].d(1);r.length=u.length}},i:j,o:j,d(e){e&&_(t),e&&_(i),e&&_(a),A(r,e)}}}async function J({params:s,fetch:t,session:l,stuff:o}){const c=`${D}/type/${s.type}`;C(!0);const i=await t(c);if(i.ok){const a=await i.json();return C(a),{props:{rows:a.res.rows}}}return{status:i.status,error:new Error(`Could not load ${c}`)}}function N(s,t,l){let o;B(s,G,i=>l(1,o=i));let{rows:c}=t;return s.$$set=i=>{"rows"in i&&l(0,c=i.rows)},[c,o]}class K extends U{constructor(t){super();x(this,t,N,H,L,{rows:0})}}export{K as default,J as load};
