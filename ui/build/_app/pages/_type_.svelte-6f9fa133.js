import{T as q,S as B,i as D,s as K,l as I,g as h,I as j,d as _,P as N,e as p,t as d,c as m,a as b,h as g,b as y,H as v,j as w,k as E,m as C,K as U}from"../chunks/vendor-1e8d99af.js";import{b as P,h as L}from"../chunks/config-29bf6223.js";import"../chunks/paths-4b3c6e7e.js";const T=()=>{const f=q("__svelte__");return{page:{subscribe:f.page.subscribe},navigating:{subscribe:f.navigating.subscribe},get preloading(){return console.error("stores.preloading is deprecated; use stores.navigating instead"),{subscribe:f.navigating.subscribe}},session:f.session}},z={subscribe(f){return T().page.subscribe(f)}};function R(f,n,r){const i=f.slice();return i[2]=n[r],i}function H(f,n,r){const i=f.slice();return i[2]=n[r],i}function F(f){let n,r,i=f[1].params.type+"",o,e,s,t=f[0],a=[];for(let l=0;l<t.length;l+=1)a[l]=S(R(f,t,l));return{c(){n=p("h1"),r=d("_type: "),o=d(i),e=E(),s=p("ol");for(let l=0;l<a.length;l+=1)a[l].c()},l(l){n=m(l,"H1",{});var c=b(n);r=g(c,"_type: "),o=g(c,i),c.forEach(_),e=C(l),s=m(l,"OL",{});var u=b(s);for(let k=0;k<a.length;k+=1)a[k].l(u);u.forEach(_)},m(l,c){h(l,n,c),v(n,r),v(n,o),h(l,e,c),h(l,s,c);for(let u=0;u<a.length;u+=1)a[u].m(s,null)},p(l,c){if(c&2&&i!==(i=l[1].params.type+"")&&w(o,i),c&1){t=l[0];let u;for(u=0;u<t.length;u+=1){const k=R(l,t,u);a[u]?a[u].p(k,c):(a[u]=S(k),a[u].c(),a[u].m(s,null))}for(;u<a.length;u+=1)a[u].d(1);a.length=t.length}},d(l){l&&_(n),l&&_(e),l&&_(s),U(a,l)}}}function G(f){let n,r,i,o,e=f[0],s=[];for(let t=0;t<e.length;t+=1)s[t]=O(H(f,e,t));return{c(){n=p("h1"),r=d("paths"),i=E(),o=p("ol");for(let t=0;t<s.length;t+=1)s[t].c()},l(t){n=m(t,"H1",{});var a=b(n);r=g(a,"paths"),a.forEach(_),i=C(t),o=m(t,"OL",{});var l=b(o);for(let c=0;c<s.length;c+=1)s[c].l(l);l.forEach(_)},m(t,a){h(t,n,a),v(n,r),h(t,i,a),h(t,o,a);for(let l=0;l<s.length;l+=1)s[l].m(o,null)},p(t,a){if(a&1){e=t[0];let l;for(l=0;l<e.length;l+=1){const c=H(t,e,l);s[l]?s[l].p(c,a):(s[l]=O(c),s[l].c(),s[l].m(o,null))}for(;l<s.length;l+=1)s[l].d(1);s.length=e.length}},d(t){t&&_(n),t&&_(i),t&&_(o),U(s,t)}}}function S(f){let n,r,i=f[2]._id+"",o,e;return{c(){n=p("li"),r=p("a"),o=d(i),this.h()},l(s){n=m(s,"LI",{});var t=b(n);r=m(t,"A",{href:!0});var a=b(r);o=g(a,i),a.forEach(_),t.forEach(_),this.h()},h(){y(r,"href",e="id/"+encodeURIComponent(f[2]._id))},m(s,t){h(s,n,t),v(n,r),v(r,o)},p(s,t){t&1&&i!==(i=s[2]._id+"")&&w(o,i),t&1&&e!==(e="id/"+encodeURIComponent(s[2]._id))&&y(r,"href",e)},d(s){s&&_(n)}}}function A(f){let n,r=f[2].name+"",i,o;return{c(){n=d("("),i=d(r),o=d(")")},l(e){n=g(e,"("),i=g(e,r),o=g(e,")")},m(e,s){h(e,n,s),h(e,i,s),h(e,o,s)},p(e,s){s&1&&r!==(r=e[2].name+"")&&w(i,r)},d(e){e&&_(n),e&&_(i),e&&_(o)}}}function O(f){let n,r,i=f[2].path+"",o,e,s,t=f[2].name!="_"&&A(f);return{c(){n=p("li"),r=p("a"),o=d(i),e=E(),t&&t.c(),this.h()},l(a){n=m(a,"LI",{});var l=b(n);r=m(l,"A",{href:!0});var c=b(r);o=g(c,i),e=C(c),t&&t.l(c),c.forEach(_),l.forEach(_),this.h()},h(){y(r,"href",s="id/"+encodeURIComponent(f[2].id))},m(a,l){h(a,n,l),v(n,r),v(r,o),v(r,e),t&&t.m(r,null)},p(a,l){l&1&&i!==(i=a[2].path+"")&&w(o,i),a[2].name!="_"?t?t.p(a,l):(t=A(a),t.c(),t.m(r,null)):t&&(t.d(1),t=null),l&1&&s!==(s="id/"+encodeURIComponent(a[2].id))&&y(r,"href",s)},d(a){a&&_(n),t&&t.d()}}}function J(f){let n;function r(e,s){return e[1].params.type=="__paths"?G:F}let i=r(f),o=i(f);return{c(){o.c(),n=I()},l(e){o.l(e),n=I()},m(e,s){o.m(e,s),h(e,n,s)},p(e,[s]){i===(i=r(e))&&o?o.p(e,s):(o.d(1),o=i(e),o&&(o.c(),o.m(n.parentNode,n)))},i:j,o:j,d(e){o.d(e),e&&_(n)}}}async function X({params:f,fetch:n,session:r,stuff:i}){const o=`${P}/type/${f.type}`;L(!0);const e=await n(o);if(e.ok){const s=await e.json();return L(s),{props:{rows:s.res.rows}}}return{status:e.status,error:new Error(`Could not load ${o}`)}}function M(f,n,r){let i;N(f,z,e=>r(1,i=e));let{rows:o}=n;return f.$$set=e=>{"rows"in e&&r(0,o=e.rows)},[o,i]}class Y extends B{constructor(n){super();D(this,n,M,J,K,{rows:0})}}export{Y as default,X as load};
