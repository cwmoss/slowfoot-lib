import{R as x,S as H,i as L,s as O,e as p,t as v,c as d,a as g,g as w,d as f,b as y,f as b,G as m,h as k,j as q,l as A,H as j,J as B,O as D}from"../chunks/vendor-c72829ad.js";import{b as G,h as E}from"../chunks/config-2c29d870.js";import"../chunks/paths-28a87002.js";const I=()=>{const t=x("__svelte__");return{page:{subscribe:t.page.subscribe},navigating:{subscribe:t.navigating.subscribe},get preloading(){return console.error("stores.preloading is deprecated; use stores.navigating instead"),{subscribe:t.navigating.subscribe}},session:t.session}},J={subscribe(t){return I().page.subscribe(t)}};function C(t,s,l){const o=t.slice();return o[2]=s[l],o}function S(t){let s,l,o=t[2]._id+"",c,i;return{c(){s=p("li"),l=p("a"),c=v(o),this.h()},l(a){s=d(a,"LI",{});var u=g(s);l=d(u,"A",{href:!0});var r=g(l);c=w(r,o),r.forEach(f),u.forEach(f),this.h()},h(){y(l,"href",i="id/"+t[2]._id)},m(a,u){b(a,s,u),m(s,l),m(l,c)},p(a,u){u&1&&o!==(o=a[2]._id+"")&&k(c,o),u&1&&i!==(i="id/"+a[2]._id)&&y(l,"href",i)},d(a){a&&f(s)}}}function R(t){let s,l,o=t[1].params.type+"",c,i,a,u=t[0],r=[];for(let e=0;e<u.length;e+=1)r[e]=S(C(t,u,e));return{c(){s=p("h1"),l=v("_type: "),c=v(o),i=q(),a=p("ol");for(let e=0;e<r.length;e+=1)r[e].c()},l(e){s=d(e,"H1",{});var _=g(s);l=w(_,"_type: "),c=w(_,o),_.forEach(f),i=A(e),a=d(e,"OL",{});var n=g(a);for(let h=0;h<r.length;h+=1)r[h].l(n);n.forEach(f)},m(e,_){b(e,s,_),m(s,l),m(s,c),b(e,i,_),b(e,a,_);for(let n=0;n<r.length;n+=1)r[n].m(a,null)},p(e,[_]){if(_&2&&o!==(o=e[1].params.type+"")&&k(c,o),_&1){u=e[0];let n;for(n=0;n<u.length;n+=1){const h=C(e,u,n);r[n]?r[n].p(h,_):(r[n]=S(h),r[n].c(),r[n].m(a,null))}for(;n<r.length;n+=1)r[n].d(1);r.length=u.length}},i:j,o:j,d(e){e&&f(s),e&&f(i),e&&f(a),B(r,e)}}}async function M({params:t,fetch:s,session:l,stuff:o}){const c=`${G}/type/${t.type}`;E(!0);const i=await s(c);if(i.ok){const a=await i.json();return E(a),{props:{rows:a.res.rows}}}return{status:i.status,error:new Error(`Could not load ${c}`)}}function U(t,s,l){let o;D(t,J,i=>l(1,o=i));let{rows:c}=s;return t.$$set=i=>{"rows"in i&&l(0,c=i.rows)},[c,o]}class N extends H{constructor(s){super();L(this,s,U,R,O,{rows:0})}}export{N as default,M as load};
